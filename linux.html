<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <title>My Linux Journey</title>
</head>
<body>
  <header>
    <h1>Helpful Linux Things (I use Arch btw)</h1>
    <p class="meta">This is mostly a lookup webpage for me but hopefully someone finds something helpful here</p>
    <div class="topbar">
      <nav>
        <a href="index.html">Main Site</a>
        <a href="#install">Installation</a>
        <a href="#rice">Linux Rice</a>
        <a href="#howto">How-To's and Fixes</a>
        </nav>
      <button id="darkToggle" aria-label="Toggle color theme">ðŸŒ™ Dark Mode</button>
    </div>
  </header>

  <article id="install">
    <h2>1. Installation</h2>
    <p>
      Ever since I switched to Arch Linux Iâ€™ve been digging through the web asking how to basically do anything.
      To either save myself time or maybe help a lost soul, I figured Iâ€™d write my experiences down for quicker lookup later.
      Also, I wanted to upload my crazy high-effort 100k hour rice (that definitely wasnâ€™t just me asking a clanker to change the CSS files).
    </p>
    <p>
      Currently I'm on a Acer Nitro V16 with an Nvidia RTX4050 and an AMD Ryzen 5
    </p>
    <h3>1.Pre-Installation</h3>
    <ul>
      <li>Save your data (obvious but important).</li>
      <li>Get a USB stick you can dedicate to Linux.</li>
      <li><strong>KEEP THIS USB-STICK CLOSE TO YOUR HEART â€” IT WILL SAVE YOU.</strong></li>
      <li>Update your BIOS beforehand. I didnâ€™t, and it forced me into a painful reinstall of Windows (oh the sweet irony).</li>
      <li>Make sure you have an easy, stable internet connection.</li>
      <li>Maybe donâ€™t go full throttle on your main machine right away (whoops).</li>
      <li>Get some coffee â˜•</li>
    </ul>

    <h3>2. Installation</h3>
    <p>
      For installation, I used this guide which was mostly painless except when I messed up due to copy-paste errors (100% user error):  
      <a href="https://gist.github.com/mjkstra/96ce7a5689d753e7a6bdd92cdc169bae" target="_blank" rel="noopener">Arch + Hyprland Guide</a>
    </p>
    <p>
      I chose Hyprland. Under <em>Option 2: Hyprland [WIP]</em> I switched out Dolphin with Nemo since I wasnâ€™t able to download Dolphin.
    </p>
  </article>

  <article id="rice">
    <h2>2. Rice</h2>
    <p>
      Ricing is fun if you have time (or dedicate way too much of it). Reddit and YouTube provide lots of inspiration,
      and with help from a certain CSS-clanker, formatting became much easier. My rice is far from perfect but it works.
      Critiques of my rice can be nicely kept to the authors of such.
      Backup link: <em>TODO: add link</em>
    </p>
  </article>
  <article id="howto">
  <h2>3. How-To's and Fixes</h2>
  <p>This section collects problems I ran into and how I fixed them. Click on one to jump straight to the solution.</p>
  <ul>
    <li><a href="#problem-wifi">Connecting to various Wi-Fi setups</a></li>
    <li><a href="#problem-fonts">Changing fonts and setups</a></li>
    <li><a href="#problem-characters">Displaying Asian characters correctly</a></li>
    <li><a href="#problem-grub">Grub menu issues</a></li>
    <li><a href="#problem-mic">Microphone / Trackpad / Brightness doesnâ€™t work</a></li>
    <li><a href="#problem-resolution">Screen resolution is off</a></li>
    <li><a href="#problem-vpn">Setting up Mullvad VPN on Arch</a></li>
    <li><a href="#problem-bluetooth">Bluetooth doesnâ€™t start</a></li>
    <li><a href="#problem-pacman-remove">Pacman doesnâ€™t want to download / remove packages</a></li>
    <li><a href="problem-buttonpress"> Which key is pressed</a></li>
    <li><a href="problem-keymap_switch"> Change keyboard layout (in hyprland)</a></li>
  </ul>
</article>

<article id="problem-bluetooth">
  <h3>Bluetooth doesnâ€™t start</h3>
  <p class="context">
    I somehow deactivated my bluetooth driver after fiddling with laptop mode / energy saving. Restarting didnâ€™t help.
  </p>
  <ul class="attempts">
    <li>Restarting â†’ no effect</li>
    <li>Reinstalling bluetooth package â†’ <a href="problem-pacman-download">broke pacman</a> </li>
    <li>Classic commands:
      <pre><code>systemctl enable bluetooth.service
systemctl start bluetooth.service</code></pre>
      â†’ didnâ€™t solve it
    </li>
  </ul>
  <p class="solution">
    The command that saved me:
  </p>
  <pre><code># check if bluetooth is blocked
rfkill list

# unblock the needed device
rfkill unblock 3   # replace 3 with the correct number
</code></pre>
  <p class="result">After that, bluetooth was fine again (I assume it also works with the wifi if you're having troubles)</p>
</article>

<article id="problem-pacman-remove">
  <h3>Pacman doesnâ€™t want to remove packages</h3>
  <p class="context">
    While updating my system (because Discord released an update again) I broke various things (thank god for timeshift).
    After restoring the snapshot before the upgrade pacman suddenly didn't want to do stuff anymore. Thankfully a <a href="https://www.reddit.com/r/archlinux/comments/nvrny2/comment/m5eny8r">helpful reddit comment</a> saved the day once again.
    (Remember this here is but a collection of solutions that worked for me.)
  </p>
  <h3>Solution by <a href="https://www.reddit.com/user/SkyyySi/">/SkyyySi</a> on Reddit</h3>
   <p>
    Pacman will refuse to make any changes if the file
    <code>/var/lib/pacman/db.lck</code> exists.
  </p>

  <h4>The root cause</h4>
  <p>
    The <code>db.lck</code> file tells <code>pacman</code> that another instance
    is already running. This prevents two processes from modifying the system
    package database at the same time (a race condition).
  </p>
  <p>
    Normally the file is deleted when <code>pacman</code> finishes, but if
    something goes wrong (crash, forced reboot, unexpected shutdown, or a buggy
    graphical package manager), the lockfile can remain.
  </p>

  <h4>The solution</h4>
  <p>
    First, make sure <code>pacman</code> isnâ€™t actually running. You can check
    with:
  </p>
  <pre><code>sudo bash -c 'pgrep --full --euid=0 "pacman" | while read -r pid; do
  cat "/proc/${pid}/cmdline" | awk '{ gsub(/\x00/, " "); print }'
  echo
done'</code></pre>

  <p>
    If no processes are listed, you can safely remove the lockfile:
  </p>
  <pre><code>sudo rm --force --verbose /var/lib/pacman/db.lck</code></pre>

  <h4>Notes</h4>
  <p>
    If you frequently run into this issue, double-check your Arch installation
    and any graphical package managers (GNOME Software, KDE Discover, etc.) that
    might also be using <code>pacman</code>.
  </p>
</article>

<article id="problem-buttonpress">
  <h3>See which key is pressed</h3>
  <p class="context">
    I've seen a lot of different suggestions on the web and I am slightly confused why because there is one really simple solution:
  </p>
  <pre><code>sudo libinput debug-events</code></pre>
</article>

<article id="problem-keymap_switch">
  <h3>Change keyboard layout (in hyprland)</h3>
  <p class="context">
    Anybody who's using a different keyboard than the standard English and might be bilingual where you have to use special characters will probably come across this problem.
  </p>
  <p>(What a niche - bilingual Arch User using Hyprland and needs special characters)
  </p>
  <p>Once again a <a href="https://www.reddit.com/r/hyprland/comments/xtxmv8/comment/k6km9hb">Reddit comment saved my day</a>
  </p>
  <h3>Solution by <a href="https://www.reddit.com/user/Rist88/">u/Rist88</a> on Reddit</h3>
   <p>
    If you want to change layouts by Super + Space, in your hyprland.conf use: 
    <pre><code>input {
    kb_layout=us,ua
    kb_options=grp:win_space_toggle}</code></pre>
    </p>
    <p> Enable your specific layouts in kb_layout, next to "us", mine is "ua" </p>
</article>


<footer>
    <p>Iteratively made by Urso | <a href="mailto:n8rvgzvom@mozmail.com">Contact</a> <script type='text/javascript' src='https://storage.ko-fi.com/cdn/widget/Widget_2.js'></script>
  <script type='text/javascript'>kofiwidget2.init('Invite me to a coffee :)', '#0f44a1', 'S6S31KWWZP');kofiwidget2.draw();</script> </p>
    <noscript><p class="meta">Enable JavaScript to use dark mode and see the visitor count.</p></noscript>
  </footer>
  
  <script>
    // Run after DOM is ready (works even if this script is at the end)
    document.addEventListener('DOMContentLoaded', () => {
      const body = document.body;
      const toggle = document.getElementById('darkToggle');

      function applyTheme(theme) {
        if (theme === 'dark') body.classList.add('dark');
        else body.classList.remove('dark');
        updateToggleLabel();
      }

      function updateToggleLabel() {
        const isDark = body.classList.contains('dark');
        toggle.textContent = isDark ? 'â˜€ï¸ Light Mode' : 'ðŸŒ™ Dark Mode';
        toggle.setAttribute('aria-pressed', String(isDark));
      }

      // Load preference (fallback to system setting)
      try {
        const saved = localStorage.getItem('theme');
        const systemPrefDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        applyTheme(saved || (systemPrefDark ? 'dark' : 'light'));
      } catch (e) {
        // localStorage may be disabled
        applyTheme('light');
      }

      // Toggle handler
      toggle?.addEventListener('click', () => {
        const isDark = body.classList.toggle('dark');
        updateToggleLabel();
        try {
          localStorage.setItem('theme', isDark ? 'dark' : 'light');
        } catch (e) { /* ignore */ }
      });
    });
  </script>
</body>
</html>
